mutation customerAccessTokenCreate($input: CustomerAccessTokenCreateInput!) {
  customerAccessTokenCreate(input: $input) {
    userErrors {
      field
      message
    }
    customerAccessToken {
      accessToken
      expiresAt
    }
    customerUserErrors {
      field
      message
    }
  }
}

mutation checkoutCreate($input: CheckoutCreateInput!) {
  checkoutCreate(input: $input) {
    userErrors {
      field
      message
    }
    checkout {
      id
      webUrl
      subtotalPrice
      lineItems(first: 100) {
        edges {
          node {
            id
            title
            quantity
            variant {
              id
              product{
                handle
              }
              image {
                id
                altText
                originalSrc
                transformedSrc
              }
              title
              price
              compareAtPrice
              availableForSale
            }
          }
        }
      }
    }
    checkoutUserErrors {
      field
      message
    }
  }
}

mutation checkoutLineItemsAdd(
  $lineItems: [CheckoutLineItemInput!]!
  $checkoutId: ID!
) {
  checkoutLineItemsAdd(lineItems: $lineItems, checkoutId: $checkoutId) {
    checkout {
      id
      webUrl
      subtotalPrice
      order {
        id
        orderNumber
      }
      lineItems(first: 100) {
        edges {
          node {
            id
            title
            quantity
            variant {
              id
              product{
                handle
              }
              image {
                id
                altText
                originalSrc
                transformedSrc
              }
              title
              price
              compareAtPrice
              availableForSale
            }
          }
        }
      }
    }
  }
}

mutation checkoutLineItemsReplace(
  $lineItems: [CheckoutLineItemInput!]!
  $checkoutId: ID!
) {
  checkoutLineItemsReplace(lineItems: $lineItems, checkoutId: $checkoutId) {
    checkout {
      id
      webUrl
      subtotalPrice
      order {
        id
        orderNumber
      }
      lineItems(first: 100) {
        edges {
          node {
            id
            title
            quantity
            variant {
              id
              product{
                handle
              }
              image {
                id
                altText
                originalSrc
                transformedSrc
              }
              title
              price
              compareAtPrice
              availableForSale
            }
          }
        }
      }
    }
  }
}

query getCheckout($input: ID!) {
  node(id: $input) {
    id
    ... on Checkout {
      id
      webUrl
      subtotalPrice
      order {
        id
        orderNumber
      }
      lineItems(first: 100) {
        edges {
          node {
            id
            title
            quantity
            variant {
              id
              product{
                handle
              }
              image {
                id
                altText
                originalSrc
                transformedSrc
              }
              title
              price
              compareAtPrice
              availableForSale
            }
          }
        }
      }
    }
  }
}

mutation checkoutCustomerAssociateV2(
  $checkoutId: ID!
  $customerAccessToken: String!
) {
  checkoutCustomerAssociateV2(
    checkoutId: $checkoutId
    customerAccessToken: $customerAccessToken
  ) {
    userErrors {
      field
      message
    }
    checkout {
      id
    }
    customer {
      id
    }
  }
}

mutation checkoutDiscountCodeApplyV2($discountCode: String!, $checkoutId: ID!) {
  checkoutDiscountCodeApplyV2(
    discountCode: $discountCode
    checkoutId: $checkoutId
  ) {
    userErrors {
      field
      message
    }
    checkout {
      id
    }
  }
}

mutation checkoutDiscountCodeRemove($checkoutId: ID!) {
  checkoutDiscountCodeRemove(checkoutId: $checkoutId) {
    userErrors {
      field
      message
    }
    checkout {
      id
    }
  }
}
